"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.p = void 0;
const _ei = __importStar(require("exupery-core-internals"));
const create_command_promise_1 = require("./creaters/create_command_promise");
const create_asynchronous_processes_monitor_1 = require("../create_asynchronous_processes_monitor");
const sequence_1 = require("./sequence");
var p;
(function (p) {
    p.assert = (assertion, error_if_failed) => {
        return (0, create_command_promise_1.__create_command_promise)({
            'execute': (on_success, on_error) => {
                if (!assertion) {
                    on_error(error_if_failed);
                    return;
                }
                on_success();
            }
        });
    };
    let deprecated_assert;
    (function (deprecated_assert) {
        deprecated_assert.query = (assertion, error_if_failed) => {
            return (0, create_command_promise_1.__create_command_promise)({
                'execute': (on_success, on_error) => {
                    assertion.__extract_data(($) => {
                        if ($) {
                            on_success();
                        }
                        else {
                            on_error(error_if_failed);
                        }
                    }, ($) => {
                        on_error($);
                    });
                }
            });
        };
    })(deprecated_assert = p.deprecated_assert || (p.deprecated_assert = {}));
    p.if_ = (precondition, command_block, else_command_block) => {
        return (0, create_command_promise_1.__create_command_promise)({
            'execute': (on_success, on_error) => {
                if (precondition) {
                    (0, sequence_1.__sequence)(command_block).__start(on_success, on_error);
                }
                else {
                    if (else_command_block !== undefined) {
                        (0, sequence_1.__sequence)(else_command_block).__start(on_success, on_error);
                    }
                    else {
                        on_success();
                    }
                }
            }
        });
    };
    let deprecated_conditional;
    (function (deprecated_conditional) {
        deprecated_conditional.query = (precondition, command, else_command) => {
            return (0, create_command_promise_1.__create_command_promise)({
                'execute': (on_success, on_error) => {
                    precondition.__extract_data(($) => {
                        if ($) {
                            command.__start(on_success, on_error);
                        }
                        else {
                            if (else_command !== undefined) {
                                else_command.__start(on_success, on_error);
                            }
                            else {
                                on_success();
                            }
                        }
                    }, on_error);
                }
            });
        };
    })(deprecated_conditional = p.deprecated_conditional || (p.deprecated_conditional = {}));
    let list;
    (function (list) {
        list.parallel = (the_array, errors_aggregator) => {
            return (0, create_command_promise_1.__create_command_promise)({
                'execute': (on_success, on_error) => {
                    const errors_builder = _ei.create_procedural_list_builder();
                    (0, create_asynchronous_processes_monitor_1.create_asynchronous_processes_monitor)((monitor) => {
                        the_array.map(($) => {
                            monitor['report process started']();
                            $.__start(() => {
                                monitor['report process finished']();
                            }, (e) => {
                                errors_builder['add item'](e);
                                monitor['report process finished']();
                            });
                        });
                    }, () => {
                        const errors = errors_builder['get list']();
                        if (errors.__get_number_of_elements() === 0) {
                            on_success();
                        }
                        else {
                            on_error(errors_aggregator(errors));
                        }
                    });
                }
            });
        };
        list.serie = (array) => {
            return (0, create_command_promise_1.__create_command_promise)({
                'execute': (on_success, on_error) => {
                    let current = 0;
                    const do_next = () => {
                        array.__get_element_at(current).transform(($) => {
                            current += 1;
                            $.__start(() => {
                                do_next();
                            }, on_error);
                        }, () => {
                            on_success();
                        });
                    };
                    do_next();
                }
            });
        };
    })(list = p.list || (p.list = {}));
    let dictionary;
    (function (dictionary_1) {
        dictionary_1.parallel = (dictionary, block, aggregate_errors) => {
            return (0, create_command_promise_1.__create_command_promise)({
                'execute': (on_success, on_error) => {
                    const errors_builder = _ei.create_procedural_dictionary_builder();
                    (0, create_asynchronous_processes_monitor_1.create_asynchronous_processes_monitor)((monitor) => {
                        dictionary.map(($, key) => {
                            monitor['report process started']();
                            (0, sequence_1.__sequence)(block($, key)).__start(() => {
                                monitor['report process finished']();
                            }, (e) => {
                                errors_builder['add entry'](key, e);
                                monitor['report process finished']();
                            });
                        });
                    }, () => {
                        const errors = errors_builder['get dictionary']();
                        if (errors.__get_number_of_entries() === 0) {
                            on_success();
                        }
                        else {
                            on_error(aggregate_errors(errors));
                        }
                    });
                }
            });
        };
        let deprecated_parallel;
        (function (deprecated_parallel) {
            deprecated_parallel.query = (staging_result, block, aggregate_errors) => {
                return (0, create_command_promise_1.__create_command_promise)({
                    'execute': (on_success, on_error) => {
                        const errors_builder = _ei.create_procedural_dictionary_builder();
                        staging_result.__extract_data((dictionary) => {
                            (0, create_asynchronous_processes_monitor_1.create_asynchronous_processes_monitor)((monitor) => {
                                dictionary.map(($, key) => {
                                    monitor['report process started']();
                                    (0, sequence_1.__sequence)(block($, key)).__start(() => {
                                        monitor['report process finished']();
                                    }, (e) => {
                                        errors_builder['add entry'](key, e);
                                        monitor['report process finished']();
                                    });
                                });
                            }, () => {
                                const errors = errors_builder['get dictionary']();
                                if (errors.__get_number_of_entries() === 0) {
                                    on_success();
                                }
                                else {
                                    on_error(aggregate_errors(errors));
                                }
                            });
                        }, on_error);
                    }
                });
            };
        })(deprecated_parallel = dictionary_1.deprecated_parallel || (dictionary_1.deprecated_parallel = {}));
        dictionary_1.serie = (dictionary, error_transformer) => {
            return (0, create_command_promise_1.__create_command_promise)({
                'execute': (on_success, on_error) => {
                    const as_list = dictionary.deprecated_to_array(() => 1);
                    let current = 0;
                    const do_next = () => {
                        as_list.__get_element_at(current).transform(($) => {
                            const key = $.key;
                            current += 1;
                            $.value.__start(() => {
                                do_next();
                            }, ($) => {
                                on_error(error_transformer({
                                    'value': $,
                                    'key': key,
                                }));
                            });
                        }, () => {
                            on_success();
                        });
                    };
                    do_next();
                }
            });
        };
        dictionary_1.deprecated_parallel_without_transforming_the_error = (dictionary) => {
            return (0, create_command_promise_1.__create_command_promise)({
                'execute': (on_success, on_error) => {
                    const errors_builder = _ei.create_procedural_dictionary_builder();
                    (0, create_asynchronous_processes_monitor_1.create_asynchronous_processes_monitor)((monitor) => {
                        dictionary.map(($, key) => {
                            monitor['report process started']();
                            $.__start(() => {
                                monitor['report process finished']();
                            }, (e) => {
                                errors_builder['add entry'](key, e);
                                monitor['report process finished']();
                            });
                        });
                    }, () => {
                        const errors = errors_builder['get dictionary']();
                        if (errors.__get_number_of_entries() === 0) {
                            on_success();
                        }
                        else {
                            on_error(errors);
                        }
                    });
                }
            });
        };
    })(dictionary = p.dictionary || (p.dictionary = {}));
    // Sequencing function:
    p.sequence = (block) => {
        return (0, create_command_promise_1.__create_command_promise)({
            'execute': (on_success, on_error) => {
                const length = _ei.list_literal(block).__get_number_of_elements();
                const runStep = (index) => {
                    if (index >= length) {
                        on_success();
                        return;
                    }
                    block[index].__start(() => runStep(index + 1), on_error);
                };
                runStep(0);
            }
        });
    };
    p.stage = (staging_result, command_block) => {
        return (0, create_command_promise_1.__create_command_promise)({
            'execute': (on_success, on_error) => {
                staging_result.__extract_data((output) => {
                    (0, sequence_1.__sequence)(command_block(output)).__start(() => {
                        on_success();
                    }, (e) => {
                        on_error(e);
                    });
                }, (e) => {
                    on_error(e);
                });
            }
        });
    };
    p.stage_stacked = (staging_result, parent_data, command_block) => {
        return (0, create_command_promise_1.__create_command_promise)({
            'execute': (on_success, on_error) => {
                staging_result.__extract_data((output) => {
                    (0, sequence_1.__sequence)(command_block(output, parent_data)).__start(() => {
                        on_success();
                    }, (e) => {
                        on_error(e);
                    });
                }, (e) => {
                    on_error(e);
                });
            }
        });
    };
})(p || (exports.p = p = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9ucy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21tYW5kL2FjdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSw0REFBNkM7QUFFN0MsOEVBQTRFO0FBQzVFLG9HQUFnRztBQUNoRyx5Q0FBdUM7QUFHdkMsSUFBaUIsQ0FBQyxDQXFiakI7QUFyYkQsV0FBaUIsQ0FBQztJQUVELFFBQU0sR0FBRyxDQUNsQixTQUFrQixFQUNsQixlQUFzQixFQUNJLEVBQUU7UUFDNUIsT0FBTyxJQUFBLGlEQUF3QixFQUFDO1lBQzVCLFNBQVMsRUFBRSxDQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUUsRUFBRTtnQkFDaEMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO29CQUNiLFFBQVEsQ0FBQyxlQUFlLENBQUMsQ0FBQTtvQkFDekIsT0FBTTtnQkFDVixDQUFDO2dCQUNELFVBQVUsRUFBRSxDQUFBO1lBQ2hCLENBQUM7U0FDSixDQUFDLENBQUE7SUFDTixDQUFDLENBQUE7SUFFRCxJQUFpQixpQkFBaUIsQ0F1QmpDO0lBdkJELFdBQWlCLGlCQUFpQjtRQUVqQix1QkFBSyxHQUFHLENBQ2pCLFNBQTZDLEVBQzdDLGVBQXNCLEVBQ0ksRUFBRTtZQUM1QixPQUFPLElBQUEsaURBQXdCLEVBQUM7Z0JBQzVCLFNBQVMsRUFBRSxDQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUUsRUFBRTtvQkFDaEMsU0FBUyxDQUFDLGNBQWMsQ0FDcEIsQ0FBQyxDQUFDLEVBQUUsRUFBRTt3QkFDRixJQUFJLENBQUMsRUFBRSxDQUFDOzRCQUNKLFVBQVUsRUFBRSxDQUFBO3dCQUNoQixDQUFDOzZCQUFNLENBQUM7NEJBQ0osUUFBUSxDQUFDLGVBQWUsQ0FBQyxDQUFBO3dCQUM3QixDQUFDO29CQUNMLENBQUMsRUFDRCxDQUFDLENBQUMsRUFBRSxFQUFFO3dCQUNGLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FB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